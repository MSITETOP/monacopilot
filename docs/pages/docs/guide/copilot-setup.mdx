---
title: Copilot Setup
---

import { Tabs, Callout } from "nextra/components";

# Copilot Setup

To integrate AI auto-completion, first obtain an API key from the [Groq console](https://console.groq.com).

<Callout type="info">
  Groq has not introduced billing yet, so you can currently use the Groq API for free. Starting the first week of July, they will implement a pay-as-you-go model. As the API is free at the moment, you may experience some latency in the completion. Once billing is introduced, you will receive instant completions without any latency.
</Callout>

#### Setting Up the API Key

Define your API key as an environment variable in your project as shown below:

<Tabs items={["Next.js", "Gatsby"]}>
<Tabs.Tab>
```bash filename=".env.local"
GROQ_API_KEY=your-api-key
```
</Tabs.Tab>
<Tabs.Tab>
```bash filename=".env.development"
GROQ_API_KEY=your-api-key
```
</Tabs.Tab>
</Tabs>

#### API Handler Configuration

Set up an API handler to manage auto-completion requests. Configure according to your framework:

<Tabs items={["Next.js (app router)", "Next.js (pages router)", "Gatsby"]}>
<Tabs.Tab>
```jsx filename="app/api/copilot/route.ts"
import { Copilot } from 'monacopilot';

const copilot = new Copilot(process.env.GROQ_API_KEY);

export async function POST(req: Request) {
  const code = await req.json();
  const completion = await copilot.complete(code);

  return Response.json(completion)
}
```
</Tabs.Tab>
<Tabs.Tab>
```jsx filename="pages/api/copilot.ts"
import { NextApiRequest, NextApiResponse } from 'next';
import { Copilot } from 'monacopilot';

const copilot = new Copilot(process.env.GROQ_API_KEY);

export default async function handler(req: NextApiRequest, res: NextApiResponse) {
  const completion = await copilot.complete(req.body);

  res.status(200).json(completion);
}
```
</Tabs.Tab>
<Tabs.Tab>
```jsx filename="src/api/copilot.ts"
import { GatsbyFunctionRequest, GatsbyFunctionResponse } from "gatsby";
import { Copilot } from 'monacopilot';

const copilot = new Copilot(process.env.GROQ_API_KEY);

export default async function handler(req: GatsbyFunctionRequest, res: GatsbyFunctionResponse) {
  const completion = await copilot.complete(req.body);

  res.status(200).json(completion);
}
```
</Tabs.Tab>
</Tabs>

#### Integrating Copilot to the Editor

Utilize the `CopilotEditor` component with the AI auto-completion by setting the `endpoint` to the API handler:

```jsx {6}
import CopilotEditor from "monacopilot";

function App() {
  return (
    <CopilotEditor 
      endpoint="/api/copilot"
      language="javascript"
    />
  );
}
```

Please note that the `language` prop is required to enable auto-completion for the specified language.

More options are available to customize the auto-completion. Refer to the [Copilot Options](/docs/guide/copilot-options) guide for more information.

ðŸŽ‰ You have now successfully configured AI auto-completion in your project. Start coding in the editor and watch the auto-completion magic unfold!